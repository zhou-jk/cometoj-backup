<html>

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="../image/favicon.ico" sizes="32x32" />
	<link rel="icon" href="../image/favicon.ico" sizes="192x192" />
	<link rel="stylesheet" type="text/css" href="../static/semantic.min.css">
	<script src="../static/jquery.min.js" type="text/javascript"></script>
	<script src="../static/semantic.min.js" type="text/javascript"></script>
	<title>[NOI2011Day2-C]兔兔与蛋蛋游戏</title>
	<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['$$$', '$$$']]
  },
  svg: {
    fontCache: 'global'
  }
};
	</script>
	<script type="text/javascript" id="MathJax-script" async src="../static/es5/tex-svg.js"></script>
</head>

<body>
	<div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/favicon.ico"> Comet OJ</a>
	</div>
	<div class="ui main container">
		<div class="ui center aligned grid">
			<div class="row">
				<h1 class="ui header">C0376 [NOI2011Day2-C]兔兔与蛋蛋游戏</h1>
			</div>
				<div class="row" style="margin-top: -15px"><span class="ui label">内存限制：256 MB</span> <span class="ui label">时间限制：1000 ms</span></div>
		</div>
		<div class="ui grid">
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">题目描述</h4>
					<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<p>这些天，兔兔和蛋蛋喜欢上了一种新的棋类游戏。<br></p><p>这个游戏是在一个$n$行$m$列的棋盘上进行的。游戏开始之前，棋盘上有一个格子是空的，其它的格子中都放置了一枚棋子，棋子或者是黑色，或者是白色。</p><p>每一局游戏总是兔兔先操作，之后双方轮流操作，具体操作为：<br></p><ul><li>兔兔每次操作时，选择一枚与空格相邻的白色棋子，将它移进空格。</li><li>蛋蛋每次操作时，选择一枚与空格相邻的黑色棋子，将它移进空格。</li></ul><p>第一个不能按照规则操作的人输掉游戏。为了描述方便，下面将操作“将第$x$行第$y$列中的棋子移进空格中”记为$M(x,y)$。</p><p>例如下面是三个游戏的例子。<br></p><p><img alt="屏幕快照 2019-06-06 上午11.22.46.png" src="../upload/e6825504b0.png" width="700" height="480.26490066225165"><br></p><p>最近兔兔总是输掉游戏，而且蛋蛋格外嚣张，于是兔兔想请她的好朋友——你——来帮助她。她带来了一局输给蛋蛋的游戏的实录，请你指出这一局游戏中所有她“犯错误”的地方。</p><p>注意：</p><ul><li><p>两个格子相邻当且仅当它们有一条公共边。</p></li><li><p>兔兔的操作是“犯错误”的，当且仅当，在这次操作前兔兔有必胜策略，而这次操作后蛋蛋有必胜策略。</p></li></ul>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输入格式</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>输入的第一行包含两个正整数$n、m$。</p><p>接下来$n$行描述初始棋盘。其中第$i$行包含$m$个字符，每个字符都是大写英文字母"X"、大写英文字母"O"或点号"."之一，分别表示对应的棋盘格中有黑色棋子、有白色棋子和没有棋子。其中点号"."恰好出现一次。</p><p>接下来一行包含一个整数$k(1≤k≤1000)$，表示兔兔和蛋蛋各进行了$k$次操作。</p><p>接下来$2k$行描述一局游戏的过程。其中第$2i–1$行是兔兔的第$i$次操作（编号为$i$的操作），第$2i$行是蛋蛋的第i次操作。每个操作使用两个整数$x,y$来描述，表示将第$x$行第$y$列中的棋子移进空格中。</p><p>输入保证整个棋盘中只有一个格子没有棋子，游戏过程中兔兔和蛋蛋的每个操作都是合法的，且最后蛋蛋获胜。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输出</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>第一行包含一个整数$r$，表示兔兔犯错误的总次数。</p><p>接下来$r$行按递增的顺序给出兔兔“犯错误”的操作编号。其中第$i$行包含一个整数$a_i$表示兔兔第$i$个犯错误的操作是他在游戏中的第$a_i$次操作。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">样例</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<h4>样例输入 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>1 6
XO.OXO
1
1 2
1 1</span></div></code></pre>
							</div>
							<h4>样例输出 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>1
1</span></div></code></pre>
							</div>
							<h4>样例输入 2</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>3 3
XOX
O.O
XOX
4
2 3
1 3
1 2
1 1
2 1
3 1
3 2
3 3</span></div></code></pre>
							</div>
							<h4>样例输出 2</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>0</span></div></code></pre>
							</div>
							<h4>样例输入 3</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>4 4
OOXX
OXXO
OO.O
XXXO
2
3 2
2 2
1 2
1 3</span></div></code></pre>
							</div>
							<h4>样例输出 3</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>2
1
2</span></div></code></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">提示</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>【数据规模】</p><p>所有测试数据的范围和特点如下表所示<br></p><p><img alt="屏幕快照 2019-06-06 上午11.27.16.png" src="../upload/e8a33b3e21.png" width="300" height="532.5648414985591"><br></p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>