<html>

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="../image/favicon.ico" sizes="32x32" />
	<link rel="icon" href="../image/favicon.ico" sizes="192x192" />
	<link rel="stylesheet" type="text/css" href="../static/semantic.min.css">
	<script src="../static/jquery.min.js" type="text/javascript"></script>
	<script src="../static/semantic.min.js" type="text/javascript"></script>
	<title>[BJWC2012]冻结</title>
	<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['$$$', '$$$']]
  },
  svg: {
    fontCache: 'global'
  }
};
	</script>
	<script type="text/javascript" id="MathJax-script" async src="../static/es5/tex-svg.js"></script>
</head>

<body>
	<div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/favicon.ico"> Comet OJ</a>
	</div>
	<div class="ui main container">
		<div class="ui center aligned grid">
			<div class="row">
				<h1 class="ui header">C0685 [BJWC2012]冻结</h1>
			</div>
				<div class="row" style="margin-top: -15px"><span class="ui label">内存限制：256 MB</span> <span class="ui label">时间限制：1000 ms</span></div>
		</div>
		<div class="ui grid">
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">题目描述</h4>
					<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<p>“我要成为魔法少女！”</p><p>“那么，以灵魂为代价，你希望得到什么？”</p><p>“我要将有关魔法和奇迹的一切，封印于卡片之中„„”</p><p>在这个愿望被实现以后的世界里，人们享受着魔法卡片（SpellCard，又名符卡）带来的便捷。</p><p>现在，不需要立下契约也可以使用魔法了！你还不来试一试？</p><p>比如，我们在魔法百科全书（Encyclopedia&nbsp; of&nbsp; Spells）里用“freeze”作为关键字来查询，会有很多有趣的结果。</p><p>例如，我们熟知的Cirno，她的冰冻魔法当然会有对应的 SpellCard 了。 当然，更加令人惊讶的是，居然有冻结时间的魔法，Cirno 的冻青蛙比起这些来真是小巫见大巫了。</p><p>这说明之前的世界中有很多魔法少女曾许下控制时间的愿望，比如 AkemiHomura、Sakuya Izayoi……</p><p>当然，在本题中我们并不是要来研究历史的，而是研究魔法的应用。</p><p>我们考虑最简单的旅行问题吧：&nbsp; 现在这个大陆上有 $N$ 个城市，$M$ 条双向的道路。城市编号为 $1$ ~ $N$，我们在 $1$ 号城市，需要到 $N$ 号城市，怎样才能最快地到达呢？</p><p>这不就是最短路问题吗？我们都知道可以用 Dijkstra、Bellman-Ford、Floyd-Warshall等算法来解决。</p><p>现在，我们一共有 $K$ 张可以使时间变慢 $50\%$ 的 SpellCard，也就是说，在通过某条路径时，我们可以选择使用一张卡片，这样，我们通过这一条道路的时间就可以减少到原先的一半。需要注意的是：</p><ol><li>在一条道路上最多只能使用一张 SpellCard。</li><li>使用一张SpellCard 只在一条道路上起作用。</li><li>你不必使用完所有的 SpellCard。</li></ol><p>给定以上的信息，你的任务是：求出在可以使用这不超过 $K$ 张时间减速的 SpellCard 之情形下，从城市 $1$ 到城市 $N$ 最少需要多长时间。</p>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输入格式</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>第一行包含三个整数：$N$、$M$、$K$。</p><p>接下来 $M$ 行，每行包含三个整数：$A_i、B_i、Time_i$，表示存在一条 $A_i$ 与 $B_i$ 之间的双向道路，在不使用 SpellCard 之前提下，通过它需要 $Time_i$ 的时间。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输出</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>输出一个整数，表示从 $1$ 号城市到 $N$ 号城市的最小用时。<br></p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">样例</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<h4>样例输入 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>4 4 1
1 2 4
4 2 6
1 3 8
3 4 8</span></div></code></pre>
							</div>
							<h4>样例输出 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>7</span></div></code></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">提示</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>【样例解释】</p><p>在不使用 SpellCard 时，最短路为 $1 \to 2 \to 4$，总时间为 $10$。现在我们可以使用 $1$ 次 SpellCard，那么我们将通过 $2\to4$ 这条道路的时间减半，此时总时间为 $7$。</p><p>【数据规模与约定】</p><p>对于100%的数据：$1&nbsp; ≤&nbsp; K&nbsp; ≤&nbsp; N ≤&nbsp; 50，M&nbsp; ≤&nbsp; 1000$。$1≤&nbsp; A_i，B_i ≤&nbsp; N，2 ≤&nbsp; Time_i&nbsp; ≤&nbsp; 2000$。</p><p>为保证答案为整数，保证所有的 $Time_i$ 均为偶数。</p><p>所有数据中的无向图保证无自环、重边，且是连通的。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>