<html>

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="../image/favicon.ico" sizes="32x32" />
	<link rel="icon" href="../image/favicon.ico" sizes="192x192" />
	<link rel="stylesheet" type="text/css" href="../static/semantic.min.css">
	<script src="../static/jquery.min.js" type="text/javascript"></script>
	<script src="../static/semantic.min.js" type="text/javascript"></script>
	<title>[SHOI2014]三叉神经树</title>
	<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\(', '\)']]
  },
  svg: {
    fontCache: 'global'
  }
};
	</script>
	<script type="text/javascript" id="MathJax-script" async src="../static/es5/tex-svg.js"></script>
</head>

<body>
	<div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/favicon.ico"> Comet OJ</a>
	</div>
	<div class="ui main container">
		<div class="ui center aligned grid">
			<div class="row">
				<h1 class="ui header">C1024 [SHOI2014]三叉神经树</h1>
			</div>
				<div class="row" style="margin-top: -15px"><span class="ui label">内存限制：256 MB</span> <span class="ui label">时间限制：1000 ms</span></div>
		</div>
		<div class="ui grid">
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">题目描述</h4>
					<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<p>计算神经学作为新兴的交叉学科近些年来一直是学术界的热点。一种叫做 SHOI 的神经组织因为其和近日发现的化合物 SHTSC 的密切联系引起了人们的极大关注。</p><p>SHOI 组织由若干个 SHOI 细胞构成，SHOI 细胞之间形成严密的树形结构。</p><p>每个 SHOI 细胞都有且只有一个输出端，被称为轴突，除了一个特殊的、被称为根细胞的 SHOI 细胞的输出作为整个组织的输出以外，其余细胞的轴突均连向其上级 SHOI 细胞；并且有且只有三个接收端，被称为树突，从其下级细胞或者其它神经组织那里接收信息。SHOI 细胞的信号机制较为简单，仅有 $0$ 和 $1$ 两种。每个 SHOI 细胞根据三个输入端中 $0$ 和 $1$ 信号的多寡输出较多的那一种。</p><p>现在给出了一段 SHOI 组织的信息，以及外部神经组织的输入变化情况。请你模拟 SHOI 组织的输出结果。</p>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输入格式</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>第一行一个整数 $n$，表示 SHOI 组织的总细胞个数。SHOI 细胞由 $1 \sim n$ 编号，编号为 $1$ 的是根细胞。</p><p>从第二行开始的 $n$ 行，每行三个整数 $x_1, x_2, x_3$，分别表示编号为 $1 \sim n$ 的 SHOI 细胞的树突连接。$1&lt;x_i \leq n$ 表示连向编号为 $x_i$ 的细胞的轴突，$n&lt;x_i \leq 3n+1$ 表示连向编号为 $x_i$ 的外界输入。输入数据保证给出的 SHOI 组织是合法的且所有的 $x_i$ 两两不同。</p><p>接下来一行 $2n+1$ 个<code>0</code>或<code>1</code>，表示初始时的外界输入。</p><p>第 $n+3$ 行有一个整数 $q$，表示总操作数。</p><p>之后 $q$ 行每行一个整数 $x$，表示编号为 $x$ 的外界输入发生了变化。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输出</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>输出 $q$ 行每行一个整数，对应第 $i$ 次外界输入变化后的根细胞的输出。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">样例</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<h4>样例输入 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>3 
2 3 4 
5 6 7 
8 9 10 
0 0 0 0 1 1 1 
5 
4 
4 
5 
6 
8</span></div></code></pre>
							</div>
							<h4>样例输出 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>1
0
0
1
1</span></div></code></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">提示</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>对于 $100\%$ 的数据，$n \leq 500000,\ q \leq 500000$。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>