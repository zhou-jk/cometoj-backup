<html>

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="../image/favicon.ico" sizes="32x32" />
	<link rel="icon" href="../image/favicon.ico" sizes="192x192" />
	<link rel="stylesheet" type="text/css" href="../static/semantic.min.css">
	<script src="../static/jquery.min.js" type="text/javascript"></script>
	<script src="../static/semantic.min.js" type="text/javascript"></script>
	<title>[NOI2005Day1-B]维护数列</title>
	<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['$$$', '$$$']]
  },
  svg: {
    fontCache: 'global'
  }
};
	</script>
	<script type="text/javascript" id="MathJax-script" async src="../static/es5/tex-svg.js"></script>
</head>

<body>
	<div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/favicon.ico"> Comet OJ</a>
	</div>
	<div class="ui main container">
		<div class="ui center aligned grid">
			<div class="row">
				<h1 class="ui header">C0318 [NOI2005Day1-B]维护数列</h1>
			</div>
				<div class="row" style="margin-top: -15px"><span class="ui label">内存限制：256 MB</span> <span class="ui label">时间限制：1000 ms</span></div>
		</div>
		<div class="ui grid">
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">题目描述</h4>
					<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<p>请写一个程序，要求维护一个数列，支持以下6种操作：（请注意，格式栏中的下划线‘_’表示实际输入文件中的空格）<br></p><p><img alt="屏幕快照 2019-06-10 下午8.44.56.png" src="../upload/9a1401e0a9.png" width="700" height="357.9746835443038"><br></p>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输入格式</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>第1行包含两个数$N$和$M$，$N$表示初始时数列中数的个数，$M$表示要进行的操作数目。</p><p>第2行包含$N$个数字，描述初始时的数列。</p><p>以下$M$行，每行一条命令，格式参见问题描述中的表格。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输出</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>对于输入数据中的GET-SUM和MAX-SUM操作，依次打印结果，每个答案（数字）占一行。<br></p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">样例</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<h4>样例输入 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>9 8
2 -6 3 5 1 -5 -3 6 3
GET-SUM 5 4
MAX-SUM
INSERT 8 3 -5 7 2
DELETE 12 1
MAKE-SAME 3 3 2
REVERSE 3 6
GET-SUM 5 4
MAX-SUM</span></div></code></pre>
							</div>
							<h4>样例输出 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>-1
10
1
10</span></div></code></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">提示</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>初始时，我们拥有数列：2 -6 3 5 1 -5 -3 6 3</p><p>执行操作GET-SUM 5 4，表示求出数列中从第5个数开始连续4个数字之和，为1+(-5)+(-3)+6 = -1<br></p><p>执行操作MAX-SUM，表示要求求出当前数列中最大的一段和，为3+5+1+(-5)+(-3)+6+3 = 10<br></p><p>执行操作INSERT 8 3 -5 7 2，即在数列中第8个数字后插入-5 7 2，数列变为<br>2 -6 3 5 1 -5 -3 6 -5 7 2 3</p><p>执行操作DELETE 12 1，表示删除第12个数字，即最后一个<br></p><p>执行操作MAKE-SAME 3 3 2，表示从第3个数开始的3个数字，统一修改为2，数列变为：<br>2 -6 2 2 2 -5 -3 6 -5 7 2</p><p>执行操作REVERSE 3 6，表示取出数列中从第3个数开始的连续6个数：2 2 2 -5 -3 6，翻转后得到6 -3 -5 2 2 2，并放回原来位置：<br>2 -6 6 -3 -5 2 2 2 -5 7 2</p><p>最后执行GET-SUM 5 4和MAX-SUM，不难得到答案1和10。<br></p><p>【评分方法】</p><p>本题设有部分分，对于每一个测试点：</p><ul><li>如果你的程序能在输出文件正确的位置上打印GET-SUM操作的答案，你可以得到该测试点60%的分数；</li><li>如果你的程序能在输出文件正确的位置上打印MAX-SUM操作的答案，你可以得到该测试点40%的分数；</li><li>以上两条的分数可以叠加，即如果你的程序正确输出所有GET-SUM和MAX-SUM操作的答案，你可以得到该测试点100%的分数。</li></ul><p>请注意：如果你的程序只能正确处理某一种操作，请确定在输出文件正确的位置上打印结果，即必须为另一种操作留下对应的行，否则我们不保证可以正确评分。</p><p>【数据规模和约定】<br></p><p>你可以认为在任何时刻，数列中至少有1个数。输入数据一定是正确的，即指定位置的数在数列中一定存在。</p><p>50%的数据中，任何时刻数列中最多含有30 000个数；<br>100%的数据中，任何时刻数列中最多含有500 000个数。</p><p>100%的数据中，任何时刻数列中任何一个数字均在[-1 000, 1 000]内。<br>100%的数据中，M≤20 000，插入的数字总数不超过4 000 000个，输入大小不超过20MBytes。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>