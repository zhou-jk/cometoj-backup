<html>

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="../image/favicon.ico" sizes="32x32" />
	<link rel="icon" href="../image/favicon.ico" sizes="192x192" />
	<link rel="stylesheet" type="text/css" href="../static/semantic.min.css">
	<script src="../static/jquery.min.js" type="text/javascript"></script>
	<script src="../static/semantic.min.js" type="text/javascript"></script>
	<title>[HAOI2011]防线修建</title>
	<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\(', '\)']]
  },
  svg: {
    fontCache: 'global'
  }
};
	</script>
	<script type="text/javascript" id="MathJax-script" async src="../static/es5/tex-svg.js"></script>
</head>

<body>
	<div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/favicon.ico"> Comet OJ</a>
	</div>
	<div class="ui main container">
		<div class="ui center aligned grid">
			<div class="row">
				<h1 class="ui header">C1404 [HAOI2011]防线修建</h1>
			</div>
				<div class="row" style="margin-top: -15px"><span class="ui label">内存限制：256 MB</span> <span class="ui label">时间限制：1000 ms</span></div>
		</div>
		<div class="ui grid">
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">题目描述</h4>
					<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<p>近来 A 国和 B 国的矛盾激化，为了预防不测，A 国准备修建一条长长的防线，当然修建防线的话，肯定要把需要保护的城市修在防线内部了。可是 A 国上层现在还犹豫不决，到底该把哪些城市作为保护对象呢？又由于 A 国的经费有限，所以希望你能帮忙完成如下的一个任务：</p><ol><li><p>给出你所有的 A 国城市坐标</p></li><li><p>A 国上层经过讨论，考虑到经济问题，决定取消对 $i$ 城市的保护，也就是说 $i$ 城市不需要在防线内了</p></li><li><p>A 国上层询问对于剩下要保护的城市，修建防线的总经费最少是多少</p></li></ol><p>你需要对每次询问作出回答。注意单位 $1$ 长度的防线花费为 $1$。</p><p>A 国的地形是这样的，形如下图，$x$ 轴是一条河流，相当于一条天然防线，不需要你再修建。</p><p>A 国总是有两个城市在河边，一个点是 $(0,0)$，一个点是 $(n,0)$，其余所有点的横坐标均大于 $0$ 小于 $n$，纵坐标均大于 $0$。A 国有一个不在 $(0,0)$ 和 $(n,0)$ 的首都。$(0,0)、(n,0)$ 和首都这三个城市是一定需要保护的。</p><p><img alt="image.png" src="../upload/df9702ebf4.png" width="300" height="234.1726618705036"><br></p><p><br></p><p>上图中，$A,B,C,D,E$ 点为A国城市，且目前都要保护，那么修建的防线就会是 $A-B-C-D$，花费也就是线段 $AB$ 的长度 $+$ 线段 $BC$ 的长度 $+$ 线段 $CD$的长度。如果，这个时候撤销 $B$点的保护，那么防线变成下图。</p><p><img alt="image.png" src="../upload/c537792f30.png" width="300" height="248.0565371024735"><br></p>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输入格式</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>第一行，三个整数 $n,x,y$ 分别表示河边城市和首都是 $(0,0)$，$(n,0)$，$(x,y)$。</p><p>第二行，一个整数 $m$。</p><p>接下来 $m$ 行，每行两个整数 $a,b$ 表示 A 国的一个非首都非河边城市的坐标为 $(a,b)$。</p><p>再接下来一个整数 $q$，表示修改和询问总数。</p><p>接下来 $q$ 行每行要么形如<code>1 i</code>，要么形如<code>2</code>，分别表示撤销第 $i$ 个城市的保护和询问。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输出</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>对于每个询问输出 $1$ 行，一个实数 $v$，表示修建防线的花费，保留两位小数。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">样例</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<h4>样例输入 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>4 2 1
2
1 2
3 2
5
2
1 1
2
1 2
2</span></div></code></pre>
							</div>
							<h4>样例输出 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>6.47
5.84
4.47</span></div></code></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">提示</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>$m \le 100000,q \le 200000,n&gt;1$。</p><p>所有点的坐标范围均在 $10000$ 以内，数据保证没有重点。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>