<html>

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="../image/favicon.ico" sizes="32x32" />
	<link rel="icon" href="../image/favicon.ico" sizes="192x192" />
	<link rel="stylesheet" type="text/css" href="../static/semantic.min.css">
	<script src="../static/jquery.min.js" type="text/javascript"></script>
	<script src="../static/semantic.min.js" type="text/javascript"></script>
	<title>[APIO2012-B]守卫</title>
	<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\(', '\)']]
  },
  svg: {
    fontCache: 'global'
  }
};
	</script>
	<script type="text/javascript" id="MathJax-script" async src="../static/es5/tex-svg.js"></script>
</head>

<body>
	<div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/favicon.ico"> Comet OJ</a>
	</div>
	<div class="ui main container">
		<div class="ui center aligned grid">
			<div class="row">
				<h1 class="ui header">C0468 [APIO2012-B]守卫</h1>
			</div>
				<div class="row" style="margin-top: -15px"><span class="ui label">内存限制：256 MB</span> <span class="ui label">时间限制：1000 ms</span></div>
		</div>
		<div class="ui grid">
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">题目描述</h4>
					<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<p>APIO 王国正被忍者攻击！忍者非常厉害，因为他们在进攻的时候可以躲在阴影里面使得其他人看不到他们。整个王国除了国王居住的 APIO 城堡以外都已经被占领了。在城堡前，有 $N$ 个灌木丛，从 $1$ 到 $N$ 编号，有 $K$ 个忍者躲在恰好 $K$ 个灌木丛后面。APIO 城堡里有 $M$ 个守卫。守卫 $i$ 监视着编号从 $A_i$ 到 $B_i$ 的连续的一段灌木丛。每个守卫都向国王报告在他所监视范围内是否有忍者出现。作为国王的仆人，你需要告诉国王，基于守卫的报告，哪些灌木丛后面一定躲着一个忍者，即对于任何和守卫报告不矛盾的忍者排列方式，在这个灌木丛后面都躲着一个忍者。</p><p>你需要写一个程序来输出所有的这些灌木丛的编号。</p>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输入格式</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>第一行包含三个用空格分隔的整数 $N, K, M$，$N$ 是灌木丛的个数，$K$ 是忍者的个数，$M$ 是守卫的个数。</p><p>接下来 $M$ 行，每行描述一个守卫的信息。其中的第 $i$ 行包含三个整数 $A_i, B_i, C_i$，表示第 $i$ 个守卫的监视范围是从 $A_i$到 $B_i$（$A_i ≤ B_i$）。$C_i$ 是 0 或者 1，若是 0 表示范围内没有看到忍者，1 表示范围内有至少一个忍者。</p><p>输入数据保证至少存在一种忍者排列方式满足所有条件。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输出</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>若存在灌木丛，在其后面一定躲着忍者，则将这些一定躲着忍者的灌木丛按照编号从小到大的顺序依次输出，每个一行。即若有 $X$ 个这样的灌木丛，则需要输出 $X$ 行。若不存在，则输出一行一个“-1”，不包含引号。<br></p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">样例</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<h4>样例输入 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>5 3 4 
1 2 1 
3 4 1 
4 4 0 
4 5 1</span></div></code></pre>
							</div>
							<h4>样例输出 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>3
5</span></div></code></pre>
							</div>
							<h4>样例输入 2</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>5 1 1 
1 5 1</span></div></code></pre>
							</div>
							<h4>样例输出 2</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>-1</span></div></code></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">提示</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>【样例 1 说明】</p><p>在这个样例中，有两种可能的安排方式：1，3，5 或者 2，3，5。即 3 和 5 后面必然躲着一个忍者。</p><p>考虑第一个灌木丛，存在一种安排方案使得它的后面躲着忍者，但也存在一种安排方案使得它后面没有躲忍者，因此不应该输出 1。同理，不应该输出 2。</p><p>【样例 2 说明】</p><p>在这个样例中，没有灌木丛后面一定躲着忍者。</p><p>【数据范围】</p><p>灌木的数量 $1 ≤ N ≤ 100,000$ ；</p><p>忍者数 $1 ≤ K ≤ N$ ；</p><p>守卫数 $0 ≤ M &lt; 100,000$ 。</p><p>对于 10% 的数据，$N ≤ 20， M ≤ 100$；</p><p>对于 50% 的数据，$N ≤ 1000， M ≤ 1000$。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>