<html>

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="../image/favicon.ico" sizes="32x32" />
	<link rel="icon" href="../image/favicon.ico" sizes="192x192" />
	<link rel="stylesheet" type="text/css" href="../static/semantic.min.css">
	<script src="../static/jquery.min.js" type="text/javascript"></script>
	<script src="../static/semantic.min.js" type="text/javascript"></script>
	<title>[2018提高组Day2-B]填数游戏</title>
	<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\(', '\)']]
  },
  svg: {
    fontCache: 'global'
  }
};
	</script>
	<script type="text/javascript" id="MathJax-script" async src="../static/es5/tex-svg.js"></script>
</head>

<body>
	<div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/favicon.ico"> Comet OJ</a>
	</div>
	<div class="ui main container">
		<div class="ui center aligned grid">
			<div class="row">
				<h1 class="ui header">C0144 [2018提高组Day2-B]填数游戏</h1>
			</div>
				<div class="row" style="margin-top: -15px"><span class="ui label">内存限制：512 MB</span> <span class="ui label">时间限制：1000 ms</span></div>
		</div>
		<div class="ui grid">
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">题目描述</h4>
					<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<p>小 D 特别喜欢玩游戏。这一天，他在玩一款填数游戏。</p><p>这个填数游戏的棋盘是一个 $n \times m$ 的矩形表格。玩家需要在表格的每个格子中填入一个数字（数字 $0$ 或者数字 $1$），填数时需要满足一些限制。</p><p>下面我们来具体描述这些限制。<br></p><p>为了方便描述，我们先给出一些定义:<br></p><ul><li><p>我们用每个格子的行列坐标来表示一个格子，即（行坐标，列坐标）。（注意：行列坐标均从 $0$ 开始编号）</p></li><li><p>合法路径 $P$：一条路径是合法的当且仅当：<br>1. 这条路径从矩形表格的左上角的格子 $(0,0)$ 出发，到矩形的右下角格子 $(n−1,m−1)$ 结束；<br>2. 在这条路径中，每次只能从当前的格子移动到右边与它相邻的格子，或者从当前格子移动到下面与它相邻的格子。</p></li></ul><p></p><p>例如：在下面这个矩形中，只有两条路径是合法的，它们分别是 $𝑃_1:(0,0) → (0,1) →(1,1)$ 和 $𝑃_2:(0,0) → (1,0) → (1,1)$。</p><p><img alt="屏幕快照 2019-05-21 下午4.42.06.png" src="../upload/b3d4dfb7fb.png" width="500" height="231.03932584269663"><br></p><p>对于一条合法的路径 $P$，我们可以用一个字符串 $w(P)$ 来表示，该字符串的长度为 $n +m − 2$，其中只包含字符“R”或者字符“D”，第 $i$ 个字符记录了路径 $P$中第 $i$ 步的移动方法，“R”表示移动到当前格子右边与它相邻的格子，“D”表示移动到当前格子下面与它相邻的格子。例如，上图中对于路径 $𝑃_1$，有 $w(P_1) = \texttt{"RD"}$；而对于另一条路径 $𝑃_2$，有 $w(P_2) = \texttt{"DR"}$。</p><p>同时，将每条合法路径 $P$ 经过的每个格子上填入的数字依次连接后，会得到一个长度为 $n + m − 1$ 的01字符串，记为 $s(P)$。例如，如果我们在格子 $(0,0)$ 和 $(1,0)$ 上填入数字 $0$，在格子 $(0,1)$ 和 $(1,1)$ 上填入数字 $1$（见上图红色数字）。那么对于路径 $𝑃_1$，我们可以得到 $s(P_1) = \texttt{"011"}$，对于路径 $𝑃_2$，有 $s(P_2) = \texttt{"001"}$。<br></p><p>游戏要求小 D 找到一种填数字 $0$、$1$ 的方法，使得对于两条路径 $𝑃_1$，$P_2$，如果 $w(P_1) &gt;&nbsp;w(P_2)$，那么必须 $s(P_1) \le s(P_2)$。我们说字符串 $a$ 比字符串 $b$ 小，当且仅当字符串 $a$ 的字典序小于字符串 $b$ 的字典序。但是仅仅是找一种方法无法满足小 D 的好奇心，小 D 更想知道这个游戏有多少种玩法，也就是说，有多少种填数字的方法满足游戏的要求?<br></p><p>小 D 能力有限，希望你帮助他解决这个问题，即有多少种填 $0$、$1$ 的方法能满足题目要求。由于答案可能很大，你需要输出答案对 $10^9+ 7$ 取模的结果。</p>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输入格式</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>输入共一行，包含两个正整数 $n、m$，由一个空格分隔，表示矩形的大小。其中 $n$ 表示矩形表格的行数，$m$ 表示矩形表格的列数。<br></p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输出</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>输出共一行，包含一个正整数，表示有多少种填 $0$、$1$ 的方法能满足游戏的要求。注意：输出答案对 $10^9+7$ 取模的结果。<br><br></p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">样例</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<h4>样例输入 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>2 2</span></div></code></pre>
							</div>
							<h4>样例输出 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>12</span></div></code></pre>
							</div>
							<h4>样例输入 2</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>3 3</span></div></code></pre>
							</div>
							<h4>样例输出 2</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>112</span></div></code></pre>
							</div>
							<h4>样例输入 3</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>5 5</span></div></code></pre>
							</div>
							<h4>样例输出 3</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>7136</span></div></code></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">提示</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>【样例 1 解释】</p><p><img alt="屏幕快照 2019-05-21 下午4.42.06.png" src="../upload/c280ce8374.png" width="500" height="231.03932584269663"><br></p><p>对于 $2 \times 2$ 棋盘，有上图所示的 12 种填数方法满足要求。<br></p><p>【数据规模与约定】<br></p><p>测试点 1-4 $\qquad n \le 3 \qquad m \le 3$</p><p>测试点 5-10 $\qquad n \le 2 \qquad m \le 1000000$<br></p><p>测试点 11-13 $\qquad n \le 3 \qquad m \le1000000$<br></p><p>测试点 14-16 $\qquad n \le 8 \qquad m \le 8$<br></p><p>测试点 17-20 $\qquad n \le 8 \qquad m \le 1000000$<br></p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>