<html>

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="../image/favicon.ico" sizes="32x32" />
	<link rel="icon" href="../image/favicon.ico" sizes="192x192" />
	<link rel="stylesheet" type="text/css" href="../static/semantic.min.css">
	<script src="../static/jquery.min.js" type="text/javascript"></script>
	<script src="../static/semantic.min.js" type="text/javascript"></script>
	<title>[AHOI2005]航线规划</title>
	<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\(', '\)']]
  },
  svg: {
    fontCache: 'global'
  }
};
	</script>
	<script type="text/javascript" id="MathJax-script" async src="../static/es5/tex-svg.js"></script>
</head>

<body>
	<div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/favicon.ico"> Comet OJ</a>
	</div>
	<div class="ui main container">
		<div class="ui center aligned grid">
			<div class="row">
				<h1 class="ui header">C1466 [AHOI2005]航线规划</h1>
			</div>
				<div class="row" style="margin-top: -15px"><span class="ui label">内存限制：256 MB</span> <span class="ui label">时间限制：1000 ms</span></div>
		</div>
		<div class="ui grid">
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">题目描述</h4>
					<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<p>对 Samuel 星球的探险已经取得了非常巨大的成就，于是科学家们将目光投向了 Samuel 星球所在的星系——一个巨大的由千百万星球构成的 Samuel 星系。星际空间站的 Samuel II 巨型计算机经过长期探测，已经锁定了 Samuel 星系中许多星球的空间坐标，并对这些星球从 $1$ 开始编号 $1$、$2$、$3$……。 一些先遣飞船已经出发，在星球之间开辟探险航线。 探险航线是双向的，例如从 $1$ 号星球到 $3$ 号星球开辟探险航线，那么从 $3$ 号星球到 $1$ 号星球也可以使用这条航线。</p><p>例如下图所示：</p><p><img src="../upload/c2c009d134.png" alt="image.png"></p><p>在 $5$ 个星球之间，有 $5$ 条探险航线。 A、B 两星球之间，如果某条航线不存在，就无法从 A 星球抵达 B 星球，我们则称这条航线为关键航线。 显然上图中，$1$ 号与 $5$ 号星球之间的关键航线有 $1$ 条：即为 $4-5$ 航线。 然而，在宇宙中一些未知的磁暴和行星的冲撞，使得已有的某些航线被破坏，随着越来越多的航线被破坏，探险飞船又不能及时回复这些航线，可见两个星球之间的关键航线会越来越多。 假设在上图中，航线 $4-2$（从 $4$ 号星球到 $2$ 号星球）被破坏。此时，$1$ 号与 $5$ 号星球之间的关键航线就有 $3$ 条：$1-3$，$3-4$，$4-5$。</p><p>小联的任务是，不断关注航线被破坏的情况，并随时给出两个星球之间的关键航线数目。现在请你帮助完成。</p>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输入格式</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>第一行有两个整数 $N$，$M$。表示有 $N$ 个星球（$1&lt; N &lt; 30000$），初始时已经有 $M$ 条航线（$1 &lt; M &lt; 100000$）。随后有 $M$ 行，每行有两个不相同的整数 $A$、$B$ 表示在星球 A 与 B 之间存在一条航线。</p><p>接下来每行有三个整数 $C$、$A$、$B$。$C$ 为 $1$ 表示询问当前星球 A 和星球 B 之间有多少条关键航线；C 为 $0$ 表示在星球 A 和星球 B 之间的航线被破坏，当后面再遇到 $C$ 为 $1$ 的情况时，表示询问航线被破坏后，关键路径的情况，且航线破坏后不可恢复； $C$ 为 $-1$ 表示输入结束，这时该行没有 $A,B$ 的值。被破坏的航线数目与询问的次数总和不超过 $40000$。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输出</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>对每个 $C$ 为 $1$ 的询问，输出一行一个整数表示关键航线数目。</p><p>注意：我们保证无论航线如何被破坏，任意时刻任意两个星球都能够相互到达。在整个数据中，任意两个星球之间最多只可能存在一条直接的航线。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">样例</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<h4>样例输入 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>5 5
1 2
1 3
3 4
4 5
4 2
1 1 5
0 4 2
1 5 1
-1</span></div></code></pre>
							</div>
							<h4>样例输出 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>1
3</span></div></code></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">提示</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>