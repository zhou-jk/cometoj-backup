<html>

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="../image/favicon.ico" sizes="32x32" />
	<link rel="icon" href="../image/favicon.ico" sizes="192x192" />
	<link rel="stylesheet" type="text/css" href="../static/semantic.min.css">
	<script src="../static/jquery.min.js" type="text/javascript"></script>
	<script src="../static/semantic.min.js" type="text/javascript"></script>
	<title>[Contest #11]F-arewell</title>
	<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['$$$', '$$$']]
  },
  svg: {
    fontCache: 'global'
  }
};
	</script>
	<script type="text/javascript" id="MathJax-script" async src="../static/es5/tex-svg.js"></script>
</head>

<body>
	<div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/favicon.ico"> Comet OJ</a>
	</div>
	<div class="ui main container">
		<div class="ui center aligned grid">
			<div class="row">
				<h1 class="ui header">C1581 [Contest #11]F-arewell</h1>
			</div>
				<div class="row" style="margin-top: -15px"><span class="ui label">内存限制：256 MB</span> <span class="ui label">时间限制：3000 ms</span></div>
		</div>
		<div class="ui grid">
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">题目描述</h4>
					<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<p><strong>※ 简洁题意在分隔线下方</strong></p><p>立于山顶的伸展树端详着一张 $n$ 个点的图，与她遥遥相对的崇山峻岭，竟与这张图有几分相似。</p><p>「这是应急预案中提到的避难地点？」她的身后悄无声息地多了道身影。</p><p>伸展树甚至没有回头：「 kdt ，既然你过来了——也就是说那边完全失守了。」她按照峭壁的走向在图上连了一些边。</p><p>被称作 K-D 树的数据结构神色黯然：「铺天盖地的计数题和多项式，在以前的记载中从没有这种情况。唯一的选择是躲进狭小的世界，等到新的计数题特化的数据结构诞生。」</p><p>「与其谈论这些，不如想想大部队来的时候怎么让他们知道避难的路线。 kdt ，你的空间能力是不是可以给图中所示的这些路定向？」伸展树指了指面前<strong>$n$ 个点 $m$ 条边的图</strong>，而 K-D 树摇了摇头：「能但不稳定。我力所能及的是<strong>一次改变整张图，让每条边有 $\frac{1}{3}$ 的概率定向到一个方向，同样的概率定向到另一个方向，还有 $\frac{1}{3}$ 的概率变得无法通行</strong>。恐怕我们需要根据最后的改变情况规划避难所的位置。」</p><p>「总要<strong>是个无环图</strong>吧，不然他们该迷路了。」伸展树眺望着更远的天际， K-D 树准备发动法术。</p><p>「这一代数据结构沉入黑暗的地底成为火种，千万年后同样的种族将携着对阳光的向往获得重生。」</p><p>你对这个种族的命运毫无兴趣，只想知道这张图<strong>变成 DAG 的概率取模$998244353$</strong>，也就是说——</p><p><br></p><hr><p><br></p><p><b>简洁题意</b>：<br></p><p>有一张 $n$ 个点 $m$ 条边的图，第 $i$ 条边 $u_i,v_i$ 有 $\frac{1}{3}$ 的概率从 $u_i$ 指向 $v_i$ ，另 $\frac{1}{3}$ 的概率从 $v_i$ 指向 $u_i$ ，剩下 $\frac{1}{3}$ 的概率被删除。求这张图是<a href="https://baike.baidu.com/item/%E6%9C%89%E5%90%91%E6%97%A0%E7%8E%AF%E5%9B%BE/10972513?fr=aladdin" target="_blank">有向无环图</a>的概率。</p><p>可以证明此概率可以表示为有理数 $\frac{x}{y}$，且 $x,y$ 互质，此时需要输出 $x \times y^{-1} \bmod 998244353$，其中 $y^{-1}$ 表示 $y$ 在模 $998244353$ 意义下的乘法逆元，且保证在本题数据范围内，$y$ 的乘法逆元一定存在。<br></p>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输入格式</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>第一行两个整数 $n,m$ ($1\le n\le 20, 1 \le m \le n \times (n-1)$) ，表示点数和边数，保证无重边无自环。</p><p>接下来的 $m$ 行，第 $i$ 行两个整数 $u_i,v_i (1\le u_i,v_i\le n)$ ，表示编号 $u_i$ 和 $v_i$ 的点之间有一条边。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">输出</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								<p>一行一个数表示答案。</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">样例</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<h4>样例输入 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>3 3
1 2
2 3
3 1</span></div></code></pre>
							</div>
							<h4>样例输出 1</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>36972014
</span></div></code></pre>
							</div>
							<h4>样例输入 2</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>5 6
2 1
2 5
4 5
4 1
3 2
4 3</span></div></code></pre>
							</div>
							<h4>样例输出 2</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>254696091</span></div></code></pre>
							</div>
							<h4>样例输入 3</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>6 9
3 2
2 1
1 4
4 5
4 3
6 1
2 5
6 3
5 6
</span></div></code></pre>
							</div>
							<h4>样例输出 3</h4>
							<div class="ui existing segment">
								<pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain"><div class=content><span class=sampledata>75465509</span></div></code></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="column">
					<h4 class="ui top attached block header">提示</h4>
						<div class="ui bottom attached segment font-content">
						<div style="position: relative; overflow: hidden;">
							<div class=content>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>